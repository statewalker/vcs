<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Browser VCS App - WebRun VCS Demo</title>
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div id="app">
      <header>
        <h1>Browser VCS App</h1>
        <p class="subtitle">Git in the browser with swappable storage backends</p>
      </header>

      <main>
        <section id="storage-section">
          <h2>Storage Backend</h2>
          <div class="storage-controls">
            <button id="btn-memory" class="storage-btn active">
              In-Memory
            </button>
            <button id="btn-browser-fs" class="storage-btn">
              Browser Filesystem
            </button>
          </div>
          <p id="storage-status" class="status">Using in-memory storage</p>
        </section>

        <section id="repo-section">
          <h2>Repository</h2>
          <div class="repo-controls">
            <button id="btn-init">Initialize Repository</button>
            <span id="repo-status" class="status">No repository</span>
          </div>
        </section>

        <section id="files-section">
          <h2>Files</h2>
          <div class="file-controls">
            <input type="text" id="file-name" placeholder="filename.txt" />
            <textarea id="file-content" placeholder="File content..."></textarea>
            <button id="btn-add-file">Add File</button>
          </div>
          <div id="file-tree" class="file-tree">
            <p class="empty-state">No files yet</p>
          </div>
        </section>

        <section id="commit-section">
          <h2>Commits</h2>
          <div class="commit-controls">
            <input type="text" id="commit-message" placeholder="Commit message..." />
            <button id="btn-commit">Create Commit</button>
          </div>
          <div id="commit-history" class="commit-history">
            <p class="empty-state">No commits yet</p>
          </div>
        </section>

        <section id="log-section">
          <h2>Activity Log</h2>
          <div id="activity-log" class="activity-log"></div>
        </section>
      </main>

      <footer>
        <p>
          Powered by <a href="https://github.com/statewalker/webrun-vcs">WebRun VCS</a>
        </p>
        <p class="browser-support">
          File System Access API: <span id="fs-api-support">Checking...</span>
        </p>
      </footer>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
