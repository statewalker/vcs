{"id":"webrun-vcs-0ln","title":"Implement file-based DeltaStore using FilesApi for Git pack files","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T20:00:21.855665438+01:00","updated_at":"2025-12-21T22:30:46.208503518+01:00","comments":[{"id":1,"issue_id":"webrun-vcs-0ln","author":"kotelnikov","text":"## Overview\n\nImplement a file-based DeltaStore that manages Git pack files and pack indexes using FilesApi. This provides delta compression storage compatible with native Git repositories.\n\n## DeltaStore Interface (from binary-storage)\n\n```typescript\ninterface DeltaStore {\n  store(baseId: ObjectId | null, content: AsyncIterable\u003cUint8Array\u003e): Promise\u003cObjectId\u003e;\n  load(id: ObjectId): AsyncIterable\u003cUint8Array\u003e;\n  has(id: ObjectId): Promise\u003cboolean\u003e;\n  getSize(id: ObjectId): Promise\u003cnumber\u003e;\n  getDeltaChain(id: ObjectId): Promise\u003cDeltaChainInfo\u003e;\n}\n```\n\n## Implementation Requirements\n\n### Pack File Management\n- Read existing `.pack` files in `objects/pack/` directory\n- Write new pack files when storing deltas\n- Support pack file format v2\n- Handle OFS_DELTA and REF_DELTA object types\n\n### Pack Index Management\n- Read/write `.idx` files (v2 format)\n- Fast object lookup by SHA-1\n- Support for fanout table optimization\n- CRC32 checksums for pack entries\n\n### Delta Operations\n- Store objects with optional delta base reference\n- Resolve delta chains on load (apply deltas recursively)\n- Track delta chain depth for `getDeltaChain()`\n- Support both offset-based and ref-based deltas\n\n## File Structure\n\n```\n.git/objects/pack/\n├── pack-{hash}.pack    # Packed objects with deltas\n├── pack-{hash}.idx     # Index for fast lookup\n└── ...\n```\n\n## Dependencies\n\n- FilesApi from `@statewalker/webrun-files`\n- Existing pack reader from `store-files/src/pack/`\n- Delta apply logic from `vcs/src/format/`\n\n## Location\n\n`packages/store-files/src/delta-storage/file-delta-store.ts`\n\n## Related Code\n\n- `packages/store-files/src/pack/pack-reader.ts` - existing pack reader\n- `packages/store-files/src/git-pack-storage.ts` - read-only pack storage\n- `packages/vcs/src/binary-storage/interfaces/delta-store.ts` - interface definition\n- `packages/vcs/src/delta-compression/` - delta compression logic\n","created_at":"2025-12-21T21:10:43Z"}],"deleted_at":"2025-12-21T22:30:46.208503518+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-1v6","title":"Test tasks","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:41:10.975149194+01:00","updated_at":"2025-12-21T22:30:46.222996873+01:00","deleted_at":"2025-12-21T22:30:46.222996873+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-79v","title":"Define common type for composite grouping of main store interfaces","description":"Multiple packages define identical interfaces for their object stores collection:\n\n- `packages/store-files/src/object-storage/index.ts` → `FileObjectStores`\n- `packages/store-sql/src/object-storage/index.ts` → `SqlObjectStores`\n- `packages/store-mem/src/object-storage/index.ts` → `MemoryObjectStores`\n- `packages/store-kv/src/object-storage/index.ts` → `KvObjectStores`\n\nAll have the same shape:\n```typescript\ninterface XxxObjectStores {\n  objects: GitObjectStore;\n  blobs: BlobStore;\n  trees: TreeStore;\n  commits: CommitStore;\n  tags: TagStore;\n}\n```\n\n**Task:** Define a common base type (e.g., `ObjectStores`) in the core `vcs` package that all storage implementations can extend or use directly.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-20T17:29:11.895471226+01:00","updated_at":"2025-12-21T22:30:46.206483006+01:00","deleted_at":"2025-12-21T22:30:46.206483006+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-79v.1","title":"Choose a better name for ObjectStores grouping interface","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-20T17:37:54.820851957+01:00","updated_at":"2025-12-21T22:30:46.205626251+01:00","close_reason":"Added objects field to GitStores interface and moved GitObjectStore to interfaces folder","dependencies":[{"issue_id":"webrun-vcs-79v.1","depends_on_id":"webrun-vcs-79v","type":"parent-child","created_at":"2025-12-20T17:37:54.833603191+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.205626251+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-79v.2","title":"Choose a better name for the 'objects' field in ObjectStores","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-20T17:37:54.965812205+01:00","updated_at":"2025-12-21T22:30:46.204658397+01:00","dependencies":[{"issue_id":"webrun-vcs-79v.2","depends_on_id":"webrun-vcs-79v","type":"parent-child","created_at":"2025-12-20T17:37:54.973048091+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.204658397+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-79v.3","title":"Provide alternative GitObjectStore implementation on top of high-level APIs","description":"Conceptually the high-level stores (trees, commits, tags, blobs) provide structured access to VCS internals, while GitObjectStore provides mostly import/export functionality with git-compatible format/streams.\n\nCurrently high-level stores are implemented on top of GitObjectStore (as in FileObjectStores, SqlObjectStores, MemoryObjectStores, KvObjectStores).\n\nHowever, it could work the other way around:\n- High-level APIs could be implemented directly with the storage backend (disk, db, kv, etc.)\n- GitObjectStore could then provide input/output functionality using these native implementations\n\nThis would decouple the git-compatibility layer from the core storage implementation.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-20T17:37:55.067594435+01:00","updated_at":"2025-12-21T22:30:46.202487829+01:00","dependencies":[{"issue_id":"webrun-vcs-79v.3","depends_on_id":"webrun-vcs-79v","type":"parent-child","created_at":"2025-12-20T17:37:55.068710037+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.202487829+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d","title":"Worktree API Migration - Consolidate interfaces","description":"Migrate worktree/checkout/staging APIs from packages/vcs/src/interfaces to the new architecture in packages/vcs/src/object-storage and packages/vcs/src/binary-storage.\n\nPlan document: notes/src/2025-12-19/01-[worktree]-api-migration-plan.md\n\nGoals:\n1. Move StagingStore to packages/worktree/src/interfaces\n2. Update store implementations (mem, files, sql, kv)\n3. Replace ObjectStore usage with typed stores\n4. Update commands and transport packages\n5. Handle TempStore location\n6. Remove old interfaces completely","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2025-12-19T17:43:04.772864367+01:00","updated_at":"2025-12-21T22:30:46.222140458+01:00","deleted_at":"2025-12-21T22:30:46.222140458+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"epic"}
{"id":"webrun-vcs-98d.1","title":"Move StagingStore interfaces to packages/worktree/src/interfaces","description":"Phase 1 of API migration.\n\nCreate the following files in packages/worktree/src/interfaces/:\n\n1. staging-store.ts:\n   - StagingStore\n   - StagingEntry\n   - StagingEntryOptions\n   - StagingBuilder\n   - StagingEditor\n   - StagingEdit\n   - MergeStage, MergeStageValue\n\n2. staging-edits.ts:\n   - UpdateStagingEntry\n   - DeleteStagingEntry\n   - DeleteStagingTree\n   - ResolveStagingConflict\n   - SetIntentToAdd\n   - SetAssumeValid\n   - SetSkipWorktree\n\n3. Update packages/worktree/src/interfaces/index.ts to export staging interfaces","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:43:12.94558472+01:00","updated_at":"2025-12-21T22:30:46.221271043+01:00","close_reason":"Closed","dependencies":[{"issue_id":"webrun-vcs-98d.1","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:43:12.949680332+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.221271043+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.10","title":"Move FilesApi-dependent implementations from worktree to store-files","description":"Move checkout-command.ts and file-tree-iterator.ts from worktree to store-files/src/worktree/. Remove @statewalker/webrun-files dependency from worktree package.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T18:47:05.373053281+01:00","updated_at":"2025-12-21T22:30:46.21302295+01:00","close_reason":"Moved checkout-command.ts and file-tree-iterator.ts from worktree to store-files/src/worktree/. Removed @statewalker/webrun-files dependency from worktree package. All tests pass.","dependencies":[{"issue_id":"webrun-vcs-98d.10","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T18:47:05.377638002+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.21302295+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.11","title":"Remove ObjectStore interface - replace with binary-storage and object-storage APIs","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T19:59:14.858141052+01:00","updated_at":"2025-12-21T22:30:46.209471392+01:00","dependencies":[{"issue_id":"webrun-vcs-98d.11","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T19:59:14.859437713+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.11","depends_on_id":"webrun-vcs-98d.6","type":"blocks","created_at":"2025-12-19T19:59:58.947397629+01:00","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"webrun-vcs-98d.11","author":"kotelnikov","text":"## Current ObjectStore Usage\n\n1. **store-files package**: GitPackStorage, GitRawObjectStorage, GitDeltaObjectStorage, CompositeObjectStorage, GitObjectStorage, typed-object-utils.ts\n2. **store-mem package**: DefaultObjectStore, createMemoryStorage\n3. **store-sql package**: createSqlStorage returns DefaultObjectStore\n4. **transport package**: vcs-repository-adapter.ts uses ObjectStore in VcsStores\n5. **testing package**: object-storage.suite.ts tests ObjectStore\n\n## Replacement Strategy\n\n| Old API | New API | Location |\n|---------|---------|----------|\n| ObjectStore.store() | RawStore.store() or BlobStore.store() | binary-storage / object-storage |\n| ObjectStore.load() | RawStore.load() or BlobStore.load() | binary-storage / object-storage |\n| ObjectStore.has() | RawStore.has() or BlobStore.has() | binary-storage / object-storage |\n| ObjectStore.getSize() | RawStore.getSize() | binary-storage |\n| ObjectStore.delete() | RawStore.delete() | binary-storage |\n| ObjectStore.listObjects() | RawStore.keys() | binary-storage |\n\n## Key Decisions\n\n1. For raw byte storage (pack files, loose objects): Use RawStore from binary-storage\n2. For Git objects with headers: Use GitObjectStore from object-storage/git-codec\n3. For typed content (blobs, trees, commits, tags): Use typed stores (BlobStore, TreeStore, etc.)\n","created_at":"2025-12-21T21:10:43Z"}],"deleted_at":"2025-12-21T22:30:46.209471392+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.12","title":"Analyze and migrate staging interfaces from vcs to worktree package","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T20:07:17.21741098+01:00","updated_at":"2025-12-21T22:30:46.207352004+01:00","dependencies":[{"issue_id":"webrun-vcs-98d.12","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T20:07:17.222893379+01:00","created_by":"daemon"}],"comments":[{"id":3,"issue_id":"webrun-vcs-98d.12","author":"kotelnikov","text":"## Files to Analyze\n\n1. `packages/vcs/src/interfaces/staging-store.ts`\n   - StagingStore interface\n   - StagingEntry, StagingEntryOptions\n   - StagingBuilder, StagingEditor, StagingEdit\n   - MergeStage, MergeStageValue\n\n2. `packages/vcs/src/interfaces/staging-edits.ts`\n   - UpdateStagingEntry\n   - DeleteStagingEntry\n   - DeleteStagingTree\n   - ResolveStagingConflict\n   - SetIntentToAdd\n   - SetAssumeValid\n   - SetSkipWorktree\n\n## Analysis Tasks\n\n1. **Find all implementations** of StagingStore interface\n2. **Find all usages** of staging edit classes\n3. **Check if worktree already has copies** (task .1 may have already copied these)\n4. **Identify circular dependencies** if any exist\n\n## Expected Implementations\n\n- `packages/store-mem/src/staging-store.ts` - MemoryStagingStore\n- `packages/store-files/src/staging/file-staging-store.ts` - FileStagingStore\n- `packages/store-sql/src/staging-store.ts` - SqlStagingStore\n- `packages/store-kv/src/kv-staging-store.ts` - KvStagingStore\n\n## Migration Plan\n\nIf implementations exist and are actively used:\n\n1. Ensure `packages/worktree/src/interfaces/staging-store.ts` exists (from task .1)\n2. Ensure `packages/worktree/src/interfaces/staging-edits.ts` exists (from task .1)\n3. Update all implementations to import from `@webrun-vcs/worktree`\n4. Update all usages to import from `@webrun-vcs/worktree`\n5. Delete the old files from `packages/vcs/src/interfaces/`\n\n## Related Tasks\n\n- webrun-vcs-98d.1: Move StagingStore interfaces to packages/worktree/src/interfaces (may be done)\n- webrun-vcs-98d.6: Remove old interfaces from packages/vcs/src/interfaces/\n","created_at":"2025-12-21T21:10:43Z"},{"id":4,"issue_id":"webrun-vcs-98d.12","author":"kotelnikov","text":"## Context\n\nTask .1 (Move StagingStore interfaces to worktree) is already CLOSED. The interfaces now exist in both locations:\n- OLD: `packages/vcs/src/interfaces/staging-store.ts` and `staging-edits.ts`\n- NEW: `packages/worktree/src/interfaces/staging-store.ts` and `staging-edits.ts`\n\nThis task verifies all usages are migrated and the old files can be safely deleted.\n\n## Verification Tasks\n\n1. **Check all imports** - ensure nothing still imports from `@webrun-vcs/vcs` for staging types\n2. **Verify implementations** import from `@webrun-vcs/worktree`\n3. **Confirm old files are redundant** and can be deleted in task .6\n","created_at":"2025-12-21T21:10:43Z"}],"deleted_at":"2025-12-21T22:30:46.207352004+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.2","title":"Update store implementations to import StagingStore from @webrun-vcs/worktree","description":"Phase 2 of API migration.\n\nUpdate these files to import StagingStore from @webrun-vcs/worktree instead of @webrun-vcs/vcs:\n\n1. packages/store-mem/src/staging-store.ts\n2. packages/store-files/src/staging/file-staging-store.ts\n3. packages/store-sql/src/staging-store.ts\n4. packages/store-kv/src/kv-staging-store.ts\n\nAlso update any test files that import StagingStore:\n- packages/store-kv/tests/kv-stores.test.ts\n- packages/store-sql/tests/high-level-stores.test.ts\n- packages/store-mem/tests/memory-stores.test.ts\n- packages/testing/src/suites/staging-store.suite.ts","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:43:19.586810771+01:00","updated_at":"2025-12-21T22:30:46.220380291+01:00","close_reason":"Updated all store implementations to import StagingStore from @webrun-vcs/worktree: store-mem, store-files, store-sql, store-kv. Also updated testing package.","dependencies":[{"issue_id":"webrun-vcs-98d.2","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:43:19.592291324+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.2","depends_on_id":"webrun-vcs-98d.1","type":"blocks","created_at":"2025-12-19T17:43:19.594701203+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.220380291+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.3","title":"Replace ObjectStore usage with typed stores (BlobStore, etc.)","description":"Phase 3 of API migration.\n\nReplace the generic ObjectStore interface with typed stores from object-storage:\n\nMapping:\n- ObjectStore.store() → BlobStore.store()\n- ObjectStore.load() → BlobStore.load()\n- ObjectStore.has() → BlobStore.has()\n- ObjectStore.getSize() → use raw store or implement\n- ObjectStore.delete() → implement through BinStore\n- ObjectStore.listObjects() → use BinStore.raw.keys()\n\nFiles to update:\n- packages/vcs/src/base/default-object-store.ts\n- packages/store-files/src/git-*-storage.ts files\n- packages/commands/tests/transport-test-helper.ts","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:43:27.91741773+01:00","updated_at":"2025-12-21T22:30:46.219509628+01:00","close_reason":"Replaced ObjectStore with BlobStore in GitStore interface and all dependent code","dependencies":[{"issue_id":"webrun-vcs-98d.3","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:43:27.928630353+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.3","depends_on_id":"webrun-vcs-98d.2","type":"blocks","created_at":"2025-12-19T17:43:27.93086132+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.219509628+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.4","title":"Update commands and transport packages for new API imports","description":"Phase 4 of API migration.\n\nCommands Package (packages/commands/src/):\n- Update types.ts to import StagingStore from @webrun-vcs/worktree\n- Keep using object-storage interfaces for typed stores\n- Remove ObjectStore dependency\n- Update staging edit class imports\n\nTransport Package (packages/transport/src/):\n- Remove ObjectStore dependency from vcs-repository-adapter.ts\n- Use typed stores directly\n\nFiles to update:\n- packages/commands/src/types.ts\n- packages/commands/tests/test-helper.ts\n- packages/transport/src/http-server/vcs-repository-adapter.ts\n- packages/transport/src/http-server/storage-adapter.ts","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:43:36.346492453+01:00","updated_at":"2025-12-21T22:30:46.21867976+01:00","close_reason":"Closed","dependencies":[{"issue_id":"webrun-vcs-98d.4","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:43:36.356895023+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.4","depends_on_id":"webrun-vcs-98d.3","type":"blocks","created_at":"2025-12-19T17:43:36.359161037+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.21867976+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.5","title":"Replace TempStore with VolatileStore (or remove)","description":"Phase 5 of API migration.\n\nVolatileStore already exists in packages/vcs/src/binary-storage/volatile/ as a type alias for TempStore. The migration involves:\n\n1. Move interface definition from temp-store.ts to binary-storage/volatile/volatile-store.ts:\n   - Define VolatileStore and VolatileContent as primary interfaces (not type aliases)\n   - Add TempStore/TempContent as deprecated type aliases for backward compatibility (or remove completely)\n\n2. Update implementations:\n   - packages/store-files/src/file-temp-store.ts → Rename to file-volatile-store.ts and implement VolatileStore\n   - packages/vcs/src/binary-storage/volatile/memory-volatile-store.ts already implements VolatileStore\n\n3. Update imports:\n   - All code importing TempStore from @webrun-vcs/vcs should import VolatileStore from @webrun-vcs/vcs/binary-storage\n\n4. Delete packages/vcs/src/interfaces/temp-store.ts","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:43:45.216456779+01:00","updated_at":"2025-12-21T22:30:46.21782202+01:00","dependencies":[{"issue_id":"webrun-vcs-98d.5","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:43:45.2267354+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.5","depends_on_id":"webrun-vcs-98d.4","type":"blocks","created_at":"2025-12-19T17:43:45.228980567+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.21782202+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.6","title":"Remove old interfaces from packages/vcs/src/interfaces/","description":"Phase 6 of API migration - Final cleanup.\n\nDelete these files after all migrations are complete:\n- packages/vcs/src/interfaces/object-store.ts\n- packages/vcs/src/interfaces/git-object-store.ts\n- packages/vcs/src/interfaces/staging-store.ts\n- packages/vcs/src/interfaces/staging-edits.ts\n- packages/vcs/src/interfaces/temp-store.ts\n- packages/vcs/src/interfaces/utils/tree-utils.ts\n- packages/vcs/src/interfaces/utils/index.ts\n\nUpdate packages/vcs/src/interfaces/index.ts to only re-export from object-storage.\n\nRun full test suite to verify no regressions.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:43:51.778633105+01:00","updated_at":"2025-12-21T22:30:46.216891842+01:00","dependencies":[{"issue_id":"webrun-vcs-98d.6","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:43:51.79055614+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.6","depends_on_id":"webrun-vcs-98d.5","type":"blocks","created_at":"2025-12-19T17:43:51.793056144+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.216891842+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.7","title":"Update worktree package internal imports for StagingStore","description":"Update the worktree package's internal files to use local StagingStore interface.\n\nFiles to update:\n- packages/worktree/src/status-calculator.ts\n- packages/worktree/src/checkout-command.ts\n- packages/worktree/src/add-command.ts\n\nTests to update:\n- packages/worktree/tests/checkout-command.test.ts\n- packages/worktree/tests/add-command.test.ts\n- packages/worktree/tests/status-calculator.test.ts\n\nChange imports from '@webrun-vcs/vcs' to local './interfaces/index.js' for StagingStore types.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:43:59.553592628+01:00","updated_at":"2025-12-21T22:30:46.215683676+01:00","close_reason":"Closed","dependencies":[{"issue_id":"webrun-vcs-98d.7","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:43:59.563673046+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.7","depends_on_id":"webrun-vcs-98d.1","type":"blocks","created_at":"2025-12-19T17:43:59.565916394+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.215683676+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.8","title":"Analyze and implement missing functionality in new APIs","description":"Check if transport and commands packages need functionality not available in new APIs.\n\nPotentially missing:\n1. listObjects() - Can use BinStore.raw.keys()\n2. getSize() - May need to add to stores or use raw layer\n3. Generic delete - Use through typed stores or BinStore\n4. GitObjectStore header operations - May need to expose if commands need it\n\nTasks:\n- Review transport package usage patterns\n- Review commands package usage patterns\n- Document any gaps\n- Implement missing functionality or document workarounds","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T17:44:06.938748586+01:00","updated_at":"2025-12-21T22:30:46.214335248+01:00","dependencies":[{"issue_id":"webrun-vcs-98d.8","depends_on_id":"webrun-vcs-98d","type":"parent-child","created_at":"2025-12-19T17:44:06.942944597+01:00","created_by":"daemon"},{"issue_id":"webrun-vcs-98d.8","depends_on_id":"webrun-vcs-98d.3","type":"blocks","created_at":"2025-12-19T17:44:06.945172591+01:00","created_by":"daemon"}],"deleted_at":"2025-12-21T22:30:46.214335248+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-98d.9","title":"Move FilesApi-dependent implementations from worktree to store-files","description":"Move checkout-command.ts and file-tree-iterator.ts from worktree to store-files/src/worktree/. Remove @statewalker/webrun-files dependency from worktree package.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T18:46:57.903709756+01:00","updated_at":"2025-12-19T18:47:23.046912593+01:00","deleted_at":"2025-12-19T18:47:23.046912593+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-aq3","title":"move packages/store-files/src/pack to the core vcs package","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T19:41:54.688625167+01:00","updated_at":"2025-12-21T22:30:46.211633507+01:00","deleted_at":"2025-12-21T22:30:46.211633507+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"webrun-vcs-daq","title":"remove the packages/store-files/src/format - this code already exists in packages/vcs/src/format","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-19T19:41:54.777842694+01:00","updated_at":"2025-12-21T22:30:46.210408271+01:00","deleted_at":"2025-12-21T22:30:46.210408271+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
